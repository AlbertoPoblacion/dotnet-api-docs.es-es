<Type Name="Enlistment" FullName="System.Transactions.Enlistment">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="5dacb6e0d9a3eb1837291d29c765d3aadae3c06c" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="es-ES" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30527939" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class Enlistment" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit Enlistment extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Transactions.Enlistment" />
  <TypeSignature Language="VB.NET" Value="Public Class Enlistment" />
  <TypeSignature Language="C++ CLI" Value="public ref class Enlistment" />
  <AssemblyInfo>
    <AssemblyName>System.Transactions</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Transactions.Local</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Facilita la comunicación entre un participante de la transacción inscrito y el administrador de transacciones durante la fase final de la transacción.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Cuando el <xref:System.Transactions.Transaction.EnlistVolatile%2A> y <xref:System.Transactions.Transaction.EnlistDurable%2A> métodos de la <xref:System.Transactions.Transaction> objeto se invocan para inscribir un participante en una transacción, devuelve este objeto que describe la inscripción.  
  
 Durante la fase final de la confirmación de transacción, el Administrador de transacciones pasa este objeto a un administrador de recursos que implementa el <xref:System.Transactions.IEnlistmentNotification> interfaz que ha dado de alta en una transacción. En concreto, el Administrador de transacciones llama a la <xref:System.Transactions.IEnlistmentNotification.Commit%2A> o <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> método del participante, dependiendo de si este último ha decidido confirmar o revertir la transacción. El participante debe llamar a la <xref:System.Transactions.Enlistment.Done%2A> método de este objeto para que el Administrador de transacciones sepan que se ha completado su trabajo.  
  
 Una inscripción puede llamar a la <xref:System.Transactions.Enlistment.Done%2A> método en cualquier momento antes de que se denomina <xref:System.Transactions.PreparingEnlistment.Prepared%2A> en la fase de preparación.  Al hacerlo, la inscripción produce un voto de sólo lectura, lo que significa que aprueba la confirmación de la transacción pero no necesita recibir el resultado final. Tenga en cuenta que, después de la <xref:System.Transactions.Enlistment.Done%2A> se llama al método, el participante inscrito no recibe ninguna notificación más del Administrador de transacciones.  
  
   
  
## Examples  
 En el ejemplo siguiente se muestra una implementación de la <xref:System.Transactions.IEnlistmentNotification> interfaz y cuándo el <xref:System.Transactions.Enlistment.Done%2A> se debería llamar al método.  
  
 [!code-csharp[Tx_Enlist#2](~/samples/snippets/csharp/VS_Snippets_CFX/tx_enlist/cs/enlist.cs#2)]
 [!code-vb[Tx_Enlist#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/tx_enlist/vb/enlist.vb#2)]  
  
 ]]></format>
    </remarks>
    <threadsafe>Este tipo es seguro para la ejecución de subprocesos.</threadsafe>
    <altmember cref="T:System.Transactions.PreparingEnlistment" />
    <altmember cref="T:System.Transactions.IEnlistmentNotification" />
  </Docs>
  <Members>
    <Member MemberName="Done">
      <MemberSignature Language="C#" Value="public void Done ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Done() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.Enlistment.Done" />
      <MemberSignature Language="VB.NET" Value="Public Sub Done ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Done();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Indica que el participante de la transacción ha finalizado su trabajo.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Durante la fase final de la confirmación de transacción, el Administrador de transacciones llama a la <xref:System.Transactions.IEnlistmentNotification.Commit%2A>, <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> o <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> método del participante, dependiendo de si la transacción es que se haya confirmado o revertido. El Administrador de recursos debe realizar las operaciones necesarias para finalizar la transacción y, a continuación, informar al administrador de transacciones que ha terminado mediante una llamada a la <xref:System.Transactions.Enlistment.Done%2A> método en el `enlistment` parámetro.  
  
 Si el Administrador de recursos ha inscrito de forma duradera, pero no responde llamando <xref:System.Transactions.Enlistment.Done%2A> método, el Administrador de transacciones está seguro de que el Administrador de recursos haya recibido la llamada de notificación respectiva. Por lo tanto, el Administrador de transacciones sigue esperando una respuesta y mantiene información relevante para esta transacción.  Si <xref:System.Transactions.Enlistment.Done%2A> es nunca se llama, este fragmento de información se conserva indefinidamente en memoria o en un recurso de todo el sistema. Esto hace que no se puedan reclamar recursos. En el caso de una transacción distribuida, esto podría rellenar finalmente el registro MSDTC que detiene el proceso MSDTC. En el caso de una transacción administrada por <xref:System.Transactions>, esto da como resultado un aumento gradual y continuo del consumo de memoria de proceso del Administrador de recursos. Por lo tanto, es fundamental que se llama a la <xref:System.Transactions.Enlistment.Done%2A> método una vez que el Administrador de recursos se realiza con el trabajo de preparación.  
  
 Una inscripción puede llamar a la <xref:System.Transactions.Enlistment.Done%2A> método en cualquier momento antes de que se denomina <xref:System.Transactions.PreparingEnlistment.Prepared%2A> en la fase de preparación. Al hacerlo, la inscripción produce un voto de sólo lectura, lo que significa que aprueba la confirmación de la transacción pero no necesita recibir el resultado final. Tenga en cuenta que, después de que se llama a este método, el participante inscrito no recibe ninguna notificación más del Administrador de transacciones.  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Transactions.PreparingEnlistment" />
        <altmember cref="T:System.Transactions.IEnlistmentNotification" />
      </Docs>
    </Member>
  </Members>
</Type>