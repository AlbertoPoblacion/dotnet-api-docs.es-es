<Type Name="MachineKey" FullName="System.Web.Security.MachineKey">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="79408eb1da4e4e1007df647cc3d7b097561d220e" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="es-ES" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30546329" />
  </Metadata>
  <TypeSignature Language="C#" Value="public static class MachineKey" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract sealed beforefieldinit MachineKey extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Web.Security.MachineKey" />
  <TypeSignature Language="VB.NET" Value="Public Class MachineKey" />
  <TypeSignature Language="C++ CLI" Value="public ref class MachineKey abstract sealed" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Proporciona una manera de cifrar o aplicar un algoritmo hash (o ambos) a los datos utilizando los mismos algoritmos y valores de clave que se utilizan para las cookies de autenticación de formularios de ASP.NET y para el estado de vista.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 La <xref:System.Web.Security.MachineKey> clase proporciona métodos que exponen la lógica de cifrado y hash que proporciona ASP.NET. Para obtener información acerca de qué cifrado y algoritmos hash utiliza ASP.NET y los valores de clave que usa con ellos, consulte [machineKey Element (ASP.NET Settings Schema)](http://msdn.microsoft.com/library/4b5699a9-bc21-4c4a-85f1-8b3b8ebd2d46).  
  
> [!WARNING]
>  El <xref:System.Web.Security.MachineKey> API solo deben usarse en una aplicación ASP.NET. Comportamiento de las APIs MachineKey fuera del contexto de una aplicación de ASP.NET no está definido  
  
 ]]></format>
    </remarks>
    <exception cref="T:System.ArgumentNullException">Los datos para cifrar, aplicar un algoritmo hash, descifrar o validar no existen</exception>
  </Docs>
  <Members>
    <Member MemberName="Decode">
      <MemberSignature Language="C#" Value="public static byte[] Decode (string encodedData, System.Web.Security.MachineKeyProtection protectionOption);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig unsigned int8[] Decode(string encodedData, valuetype System.Web.Security.MachineKeyProtection protectionOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.MachineKey.Decode(System.String,System.Web.Security.MachineKeyProtection)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Decode (encodedData As String, protectionOption As MachineKeyProtection) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Byte&gt; ^ Decode(System::String ^ encodedData, System::Web::Security::MachineKeyProtection protectionOption);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.Obsolete("This method is obsolete and is only provided for compatibility with existing code. It is recommended that new code use the Protect and Unprotect methods instead.")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="encodedData" Type="System.String" />
        <Parameter Name="protectionOption" Type="System.Web.Security.MachineKeyProtection" />
      </Parameters>
      <Docs>
        <param name="encodedData">Los datos cifrados para descifrar o validar.</param>
        <param name="protectionOption">Indica si el parámetro <c>encodedData</c> se debería cifrar o someter a un algoritmo hash.</param>
        <summary>Descodifica y/o valida datos que se han cifrado o se han proporcionado con un código de autenticación de mensaje basado en hash (HMAC).</summary>
        <returns>Una matriz <see cref="T:System.Byte" /> que representa los datos descifrados.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Para obtener información acerca de qué cifrado y algoritmos hash ASP.NET usa para descifrar y validar los datos que se pasan en, consulte [machineKey Element (ASP.NET Settings Schema)](http://msdn.microsoft.com/library/4b5699a9-bc21-4c4a-85f1-8b3b8ebd2d46).  
  
   
  
## Examples  
 Para obtener un ejemplo de código, vea la <xref:System.Web.Security.MachineKey> Introducción a la clase.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Encode">
      <MemberSignature Language="C#" Value="public static string Encode (byte[] data, System.Web.Security.MachineKeyProtection protectionOption);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Encode(unsigned int8[] data, valuetype System.Web.Security.MachineKeyProtection protectionOption) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.MachineKey.Encode(System.Byte[],System.Web.Security.MachineKeyProtection)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Encode (data As Byte(), protectionOption As MachineKeyProtection) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Encode(cli::array &lt;System::Byte&gt; ^ data, System::Web::Security::MachineKeyProtection protectionOption);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.Obsolete("This method is obsolete and is only provided for compatibility with existing code. It is recommended that new code use the Protect and Unprotect methods instead.")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="data" Type="System.Byte[]" />
        <Parameter Name="protectionOption" Type="System.Web.Security.MachineKeyProtection" />
      </Parameters>
      <Docs>
        <param name="data">Datos que se van a cifrar.</param>
        <param name="protectionOption">Indica si el parámetro <c>data</c> se debería cifrar o someter a un algoritmo hash.</param>
        <summary>Cifra los datos y/o anexa un código de autenticación de mensaje basado en hash (HMAC).</summary>
        <returns>El valor cifrado, el valor de entrada con HMAC anexado o el resultado de cifrar el valor de entrada con HMAC anexado.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Para obtener información acerca de qué cifrado y algoritmos hash ASP.NET usa para descifrar y validar los datos que se pasan en, consulte [machineKey Element (ASP.NET Settings Schema)](http://msdn.microsoft.com/library/4b5699a9-bc21-4c4a-85f1-8b3b8ebd2d46).  
  
   
  
## Examples  
 Para obtener un ejemplo de código, vea la <xref:System.Web.Security.MachineKey> Introducción a la clase.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Protect">
      <MemberSignature Language="C#" Value="public static byte[] Protect (byte[] userData, params string[] purposes);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig unsigned int8[] Protect(unsigned int8[] userData, string[] purposes) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.MachineKey.Protect(System.Byte[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Protect (userData As Byte(), ParamArray purposes As String()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Byte&gt; ^ Protect(cli::array &lt;System::Byte&gt; ^ userData, ... cli::array &lt;System::String ^&gt; ^ purposes);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="userData" Type="System.Byte[]" />
        <Parameter Name="purposes" Type="System.String[]">
          <Attributes>
            <Attribute>
              <AttributeName>System.ParamArray</AttributeName>
            </Attribute>
          </Attributes>
        </Parameter>
      </Parameters>
      <Docs>
        <param name="userData">Datos que se van a proteger. Estos datos se pasan como texto simple.</param>
        <param name="purposes">Una lista de finalidades para los datos. Si se especifica este valor, se debe pasar la misma lista al método <see cref="M:System.Web.Security.MachineKey.Unprotect(System.Byte[],System.String[])" /> para descifrar el texto cifrado devuelto.</param>
        <summary>Cifra o firma los datos especificados para protegerlos.</summary>
        <returns>Los datos de texto cifrado.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Este método reemplaza a la <xref:System.Web.Security.MachineKey.Encode%2A> método, que requiere que el llamador especificar si los datos de texto simple deben cifrarse, firmarse o ambos. El <xref:System.Web.Security.MachineKey.Protect%2A> método realiza la operación correspondiente y protege los datos de forma segura. Solo pueden descifrarse a los datos de texto cifrado generados por este método por el <xref:System.Web.Security.MachineKey.Unprotect%2A> método.  
  
 El `purposes` parámetro es una lista opcional de razones por las que puede bloquear el texto cifrado para un propósito específico. Este parámetro permite aislar las operaciones criptográficas realizadas por distintos subsistemas dentro de una aplicación. Un cliente malintencionado no podrá obtener el resultado de un subsistema <xref:System.Web.Security.MachineKey.Protect%2A> método y la fuente como entrada para otro subsistema <xref:System.Web.Security.MachineKey.Unprotect%2A> método, que podría poner en peligro la seguridad de la aplicación. El `purposes` parámetro ayuda a garantizar que los datos protegidos solo pueden usarse por el componente que lo generó originalmente. Las aplicaciones deben asegurarse de que cada subsistema usa un único `purposes` lista.  
  
 Por ejemplo, para proteger o desproteger un token de autenticación, podría llamar al método con un código como el siguiente ejemplo:  
  
```csharp  
MachineKey.Protect(..., "Authentication token");  
MachineKey.Unprotect(..., "Authentication token");  
```  
  
```vb  
MachineKey.Protect(..., "Authentication token")  
MachineKey.Unprotect(..., "Authentication token")  
```  
  
 Las aplicaciones pueden generar dinámicamente el `purposes` parámetro. En ese caso, utilizar prefijos en valores proporcionados por el usuario con un valor fijo (como "`Username:` " + *nombre de usuario*) para minimizar el riesgo de que un cliente malintencionado elaboración de entrada que coincida con un símbolo (token) que se usa por alguna otra parte del sistema. Debe ser cualquier cadena genera dinámicamente después de cadenas fijas. Por ejemplo, para proteger o desproteger un mensaje privado que está asociado a un usuario específico, use código similar al ejemplo siguiente:  
  
```csharp  
MachineKey.Protect(..., "Private message", "Recipient: " + username);  
MachineKey.Unprotect(..., "Private message", "Recipient: " + username);  
```  
  
```vb  
MachineKey.Protect(..., "Private message", "Recipient: " + username)  
MachineKey.Unprotect(..., "Private message", "Recipient: " + username)  
```  
  
 Cuando el <xref:System.Web.Security.MachineKey.Unprotect%2A> método se llama, el valor que se proporciona para la `purposes` parámetro debe ser el mismo valor que se proporcionó a la <xref:System.Web.Security.MachineKey.Protect%2A> método. En caso contrario, se producirá un error en la operación con un <xref:System.Security.Cryptography.CryptographicException> excepción.  
  
 Los valores de configuración que son necesarios para la <xref:System.Web.Configuration.MachineKeyCompatibilityMode.Framework45?displayProperty=nameWithType> opción son necesarios para este aunque método la <xref:System.Web.Configuration.MachineKeySection.CompatibilityMode%2A?displayProperty=nameWithType> propiedad no está establecida en el <xref:System.Web.Configuration.MachineKeyCompatibilityMode.Framework45> opción.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">El parámetro <paramref name="userData" /> es null.</exception>
        <exception cref="T:System.ArgumentException">La matriz de fines contiene una o más entradas que solo son espacios en blanco.</exception>
      </Docs>
    </Member>
    <Member MemberName="Unprotect">
      <MemberSignature Language="C#" Value="public static byte[] Unprotect (byte[] protectedData, params string[] purposes);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig unsigned int8[] Unprotect(unsigned int8[] protectedData, string[] purposes) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Security.MachineKey.Unprotect(System.Byte[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Unprotect (protectedData As Byte(), ParamArray purposes As String()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::Byte&gt; ^ Unprotect(cli::array &lt;System::Byte&gt; ^ protectedData, ... cli::array &lt;System::String ^&gt; ^ purposes);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="protectedData" Type="System.Byte[]" />
        <Parameter Name="purposes" Type="System.String[]">
          <Attributes>
            <Attribute>
              <AttributeName>System.ParamArray</AttributeName>
            </Attribute>
          </Attributes>
        </Parameter>
      </Parameters>
      <Docs>
        <param name="protectedData">Los datos de texto cifrado que se van a desproteger.</param>
        <param name="purposes">Una lista de finalidades que describen para qué se necesitan los datos. Debe ser el mismo valor que se pasó al método <see cref="M:System.Web.Security.MachineKey.Protect(System.Byte[],System.String[])" /> cuando los datos se protegieron.</param>
        <summary>Desprotege los datos especificados, que se protegieron mediante el método <see cref="M:System.Web.Security.MachineKey.Protect(System.Byte[],System.String[])" />.</summary>
        <returns>Los datos de texto simple.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Para obtener información acerca de este método, consulte el <xref:System.Web.Security.MachineKey.Protect%2A> método.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">El parámetro <paramref name="protectedData" /> es null.</exception>
        <exception cref="T:System.ArgumentException">La matriz de fines contiene una o más entradas que solo son espacios en blanco.</exception>
        <exception cref="T:System.Security.Cryptography.CryptographicException">Las causas posibles son las siguientes:  
  
-   Los datos protegidos se manipularon.  
  
-   El valor del parámetro <paramref name="purposes" /> no es igual que el valor que se especificó cuando los datos se protegieron.  
  
-   La aplicación se implementa en más de un servidor y usa claves de cifrado generadas automáticamente.</exception>
      </Docs>
    </Member>
  </Members>
</Type>