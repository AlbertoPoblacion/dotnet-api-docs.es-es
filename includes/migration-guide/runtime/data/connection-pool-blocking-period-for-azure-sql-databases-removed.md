### <a name="connection-pool-blocking-period-for-azure-sql-databases-is-removed"></a>Se quita el grupo de conexiones bloqueo período para las bases de datos de SQL Azure

|   |   |
|---|---|
|Detalles|A partir de .NET Framework 4.6.2, abra las solicitudes a las bases de datos de SQL Azure conocidos para conexión (*. database.windows.net, *. database.chinacloudapi.cn, *. database.usgovcloudapi.net, *. database.cloudapi.de), la agrupación de conexiones es el período de bloqueo quitar, y no se almacenan en caché de los errores de apertura de la conexión. Se llevarán a cabo intentos por recuperar solicitudes abiertas de conexión casi inmediatamente después de los errores de conexión transitorios. Este cambio permite que el intento de abrir conexión volverá inmediatamente a bases de datos de SQL Azure, lo que mejora el rendimiento de las aplicaciones de nube-habilitado. Para todos los demás intentos de conexión, el período de bloqueo de grupo de conexión sigue necesitando. En .NET Framework 4.6.1 y versiones anteriores, cuando una aplicación encuentra un error de conexión transitorios al conectarse a una base de datos, el intento de conexión no se volverá a intentar rápidamente, ya que la agrupación de conexiones almacena en caché el error y vuelve a producirlo durante 5 segundos en 1 minuto. Para obtener más información, consulte [SQL Server Connection Pooling (ADO.NET)](~/docs/framework/data/adonet/sql-server-connection-pooling.md). Este comportamiento causa problemas en las conexiones a bases de datos SQL de Azure, las que habitualmente presentan errores transitorios de los que se recuperan dentro de unos pocos segundos. La característica de bloqueo de grupo de conexión significa que la aplicación no se puede conectar a la base de datos para un período prolongado, incluso si la base de datos está disponible y la aplicación necesita representar dentro de unos segundos.|
|Sugerencia|Si no desea este comportamiento, se puede configurar el período de bloqueo de grupo de conexión estableciendo la <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> propiedad introducida en .NET Framework 4.6.2. El valor de la propiedad es un miembro de la enumeración <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=name> que puede tener cualquiera de los tres valores:<ul><li><xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.Auto></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock></li></ul>El comportamiento anterior se puede restaurar al establecer la propiedad <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> en <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>.|
|Ámbito|Secundaria|
|Versión|4.6.2|
|Tipo|Tiempo de ejecución|
|API afectadas|<ul><li><xref:System.Data.Common.DbConnection.OpenAsync?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.Open?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.OpenAsync(System.Threading.CancellationToken)?displayProperty=nameWithType></li></ul>|

