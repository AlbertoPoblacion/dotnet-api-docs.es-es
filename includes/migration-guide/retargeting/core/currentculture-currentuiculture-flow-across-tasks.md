### <a name="currentculture-and-currentuiculture-flow-across-tasks"></a>CurrentCulture y CurrentUICulture fluirán tareas

|   |   |
|---|---|
|Detalles|A partir de la versión 4.6 de .NET Framework, <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> y <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> se almacenan en el subproceso <xref:System.Threading.ExecutionContext?displayProperty=name>, que fluye a través de las operaciones asincrónicas. Esto significa que los cambios en <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> o <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> se verán reflejados en las tareas que más adelante se ejecutan de forma asincrónica. Esto es diferente del comportamiento de las versiones anteriores de .NET Framework (lo que habría que restablecer <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> y <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> en todas las tareas asincrónicas).|
|Sugerencia|Aplicaciones afectadas por este cambio pueden solucionar el problema si se establece explícitamente el deseado <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> o <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> como la primera operación en una tarea asincrónica. Como alternativa, el comportamiento anterior (de no fluye <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) puede ser elegido estableciendo el modificador de compatibilidad siguientes:<pre><code class="language-C#">AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre>Este problema se ha solucionado por WPF en .NET Framework 4.6.2. También se ha corregido en marcos .NET 4.6, 4.6.1 a través de [3139549 KB](https://support.microsoft.com/kb/3139549). Las aplicaciones dirigidas a .NET 4.6 o posterior obtendrá automáticamente el comportamiento correcto en aplicaciones de WPF - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) se conservarían a través de las operaciones del distribuidor.|
|Ámbito|Secundaria|
|Versión|4.6|
|Tipo|Redestinación|
|API afectadas|<ul><li><xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=nameWithType></li><li><xref:System.Threading.Thread.CurrentCulture?displayProperty=nameWithType></li><li><xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=nameWithType></li><li><xref:System.Threading.Thread.CurrentUICulture?displayProperty=nameWithType></li></ul>|

