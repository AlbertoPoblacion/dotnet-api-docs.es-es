### <a name="wpf-grid-allocation-of-space-to-star-columns"></a>Asignación de la cuadrícula de WPF de espacio a las columnas de la estrella

|   |   |
|---|---|
|Detalles|A partir de la 4.7 de .NET Framework, WPF reemplaza el algoritmo que <xref:System.Windows.Controls.Grid> usa para asignar espacio para *-columnas. Esta operación cambiará el ancho real asignado a *-columnas de un número de casos:<ul><li>Cuando uno o más *-las columnas también tienen un ancho mínimo o máximo que invalida la asignación proporcional para esa columna. (El ancho mínimo puede derivar de una declaración explícita de MinWidth o de un mínimo implícito obtenido de contenido de la columna. El ancho máximo solo pueden definirse explícitamente, de una declaración MaxWidth.)</li><li>Cuando uno o más *-columnas de declaran un gran *-peso, mayor que 10 ^ 298.</li><li>Cuando el *-pesos son lo suficientemente diferentes que encuentre inestabilidad en punto flotante (desbordamiento, subdesbordamiento, la pérdida de precisión).</li><li>Cuando se habilita el redondeo del diseño, y el punto por pulgada de visualización efectivo es suficientemente alto.</li></ul>En los dos primeros casos, los anchos generados por el nuevo algoritmo pueden ser significativamente diferentes de los generados por el algoritmo anterior; en este último caso, la diferencia será a lo sumo uno o dos píxeles. El nuevo algoritmo soluciona varios errores presentes en el algoritmo anterior:<ol><li>La asignación total a columnas puede superar el ancho de la cuadrícula. Esto puede ocurrir cuando se asigna espacio a una columna cuya parte proporcional es inferior a su tamaño mínimo. El algoritmo asigna el tamaño mínimo, lo que disminuye el espacio disponible para otras columnas. Si no hay ningún *-columnas izquierdas para asignar, la asignación total será demasiado grande.</li><li>La asignación total puede no alcanzar el ancho de la cuadrícula. Éste es el problema dual para #1, que surgen al asignar a una columna cuyo parte proporcional es mayor que su tamaño máximo, y no tienen ninguna *-columnas de la izquierda para ocupar la demora.</li><li>Dos *-columnas pueden recibir las asignaciones no es proporcionales a sus *-pesos. Esta es una versión más ligera de n.º 1/n.º 2, que surge cuando se asigna a las columnas * A, B y C (en ese orden), donde la parte proporcional de B infringe la limitación mínima (o máxima). Como ocurría anteriormente, esto cambia el espacio disponible en la columna C, que obtiene menos (o más) asignación proporcional respecto a A.</li><li>Columnas con pesos extremadamente grandes (&gt; 10 ^ 298) se tratan como si tuvieran peso 10 ^ 298. Las diferencias proporcionales entre ellas (y entre columnas con pesos ligeramente más reducidos) no se han respetado.</li><li>Columnas con pesos inifinte no se controlan correctamente. [De hecho, no puede establecer un peso en infinito, pero esta es una restricción artificial. El código de ubicación estaba intentando administrarlo, pero de forma incorrecta].</li><li>Algunos problemas leves al evitar el desbordamiento, el subdesbordamiento, la pérdida de precisión y problemas de punto flotante similares.</li><li>Los ajustes del redondeo del diseño son incorrectos en los puntos por pulgada suficientemente elevados.</li></ol>El nuevo algoritmo produce resultados que cumplen lo criterios siguiente: A. El ancho real que se asigna a un *-columna nunca es menor que el ancho mínimo ni superior a su ancho máximo. B. Cada <em>-columna que no está asignado el mínimo o el ancho máximo se asigna un valor de ancho proporcional a su <em>-peso. Para ser precisos, si se declaran dos columnas con ancho x</em> y</em> respectivamente, y si ninguna columna recibe su ancho mínimo o máximo, el ancho real v y w asignados a las columnas están en la misma proporción: v / w == x / y.C. El ancho total asignado a &quot;proporcional&quot; *-columnas es igual que el espacio disponible después de asignar a las columnas restringidas (fijo, auto, y *-las columnas que se asignan su ancho min o max). Esto podría ser cero, por ejemplo si la suma de los anchos mínimos supera el ancho de la cuadrícula availbable. D. Todas estas instrucciones deben interpretarse con respecto a la &quot;ideal&quot; diseño. Cuando el redondeo del diseño está activo, el ancho real puede diferir de los anchos ideales tanto como un píxel. El algoritmo anterior respeta (A), pero no se respetan los demás criterios en los casos en que se ha descrito anteriormente. Todo lo que dice acerca de las columnas y los anchos en este artículo se aplica también a las filas y alto.|
|Sugerencia|De forma predeterminada, las aplicaciones destinadas a versiones de .NET Framework a partir de la 4.7 de .NET Framework que vean el nuevo algoritmo, mientras las aplicaciones destinadas a .NET Framework 4.6.2 o versiones anteriores verán el algoritmo anterior. Para invalidar el valor predeterminado, utilice la opción de configuración siguiente:<pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>El valor 'true' selecciona el algoritmo anterior, 'false', selecciona el nuevo algoritmo.|
|Ámbito|Secundaria|
|Versión|4.7|
|Tipo|Redestinación|

