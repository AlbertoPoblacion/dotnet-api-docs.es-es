<span data-ttu-id="08272-101">Usando una indización de basados en caracteres con la <xref:System.Text.StringBuilder.Chars%2A> propiedad puede ser muy lenta en las siguientes condiciones:</span><span class="sxs-lookup"><span data-stu-id="08272-101">Using character-based indexing with the <xref:System.Text.StringBuilder.Chars%2A> property can be extremely slow under the following conditions:</span></span>

- <span data-ttu-id="08272-102">El <xref:System.Text.StringBuilder> instancia es grande (por ejemplo, consta de varias decenas de miles de caracteres).</span><span class="sxs-lookup"><span data-stu-id="08272-102">The <xref:System.Text.StringBuilder> instance is large (for example, it consists of several tens of thousands of characters).</span></span>
- <span data-ttu-id="08272-103">El <xref:System.Text.StringBuilder> es "bloque".</span><span class="sxs-lookup"><span data-stu-id="08272-103">The <xref:System.Text.StringBuilder> is "chunky."</span></span> <span data-ttu-id="08272-104">Es decir, las llamadas repetidas a métodos como <xref:System.Text.StringBuilder.Append%2A?displayProperty=nameWithType> automáticamente se han ampliado del objeto <xref:System.Text.StringBuilder.Capacity%2A?displayProperty=nameWithType> propiedad y fragmentos de nuevo asignadas de memoria a él.</span><span class="sxs-lookup"><span data-stu-id="08272-104">That is, repeated calls to methods such as <xref:System.Text.StringBuilder.Append%2A?displayProperty=nameWithType> have automatically expanded the object's <xref:System.Text.StringBuilder.Capacity%2A?displayProperty=nameWithType> property and allocated new chunks of memory to it.</span></span>

<span data-ttu-id="08272-105">Rendimiento se ve seriamente afectado ya que cada acceso carácter recorre toda la lista vinculada de fragmentos para buscar el búfer correcto para indizar en.</span><span class="sxs-lookup"><span data-stu-id="08272-105">Performance is severely impacted because each character access walks the entire linked list of chunks to find the correct buffer to index into.</span></span>

> [!NOTE]
>  <span data-ttu-id="08272-106">Incluso para una gran "bloque" <xref:System.Text.StringBuilder> objeto utilizando el <xref:System.Text.StringBuilder.Chars%2A> propiedad para el acceso a uno o un número pequeño de caracteres basado en el índice tiene un efecto insignificante en el rendimiento; por lo general, resulta una **0(n)** operación.</span><span class="sxs-lookup"><span data-stu-id="08272-106">Even for a large "chunky" <xref:System.Text.StringBuilder> object, using the <xref:System.Text.StringBuilder.Chars%2A> property for index-based access to one or a small number of characters has a negligible performance impact; typically, it is an **0(n)** operation.</span></span> <span data-ttu-id="08272-107">El impacto de rendimiento significativas se produce al recorrer en iteración los caracteres de la <xref:System.Text.StringBuilder> objeto, que es un **O(n^2)** operación.</span><span class="sxs-lookup"><span data-stu-id="08272-107">The significant performance impact occurs when iterating the characters in the <xref:System.Text.StringBuilder> object, which is an **O(n^2)** operation.</span></span> 

<span data-ttu-id="08272-108">Si encuentra problemas de rendimiento al usar indexación basada en caracteres con <xref:System.Text.StringBuilder> objetos, puede utilizar cualquiera de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="08272-108">If you encounter performance issues when using character-based indexing with <xref:System.Text.StringBuilder> objects, you can use any of the following workarounds:</span></span>

- <span data-ttu-id="08272-109">Convertir el <xref:System.Text.StringBuilder> instancia a un <xref:System.String> mediante una llamada a la <xref:System.Text.StringBuilder.ToString%2A> (método), tener acceso a los caracteres de la cadena.</span><span class="sxs-lookup"><span data-stu-id="08272-109">Convert the <xref:System.Text.StringBuilder> instance to a <xref:System.String> by calling the <xref:System.Text.StringBuilder.ToString%2A> method, then access the characters in the string.</span></span>

- <span data-ttu-id="08272-110">Copie el contenido de las existentes <xref:System.Text.StringBuilder> objeto a un nuevo un tamaño previo <xref:System.Text.StringBuilder> objeto.</span><span class="sxs-lookup"><span data-stu-id="08272-110">Copy the contents of the existing <xref:System.Text.StringBuilder> object to a new pre-sized <xref:System.Text.StringBuilder> object.</span></span> <span data-ttu-id="08272-111">Mejora el rendimiento porque el nuevo <xref:System.Text.StringBuilder> objeto no está en bloque.</span><span class="sxs-lookup"><span data-stu-id="08272-111">Performance improves because the new <xref:System.Text.StringBuilder> object is not chunky.</span></span> <span data-ttu-id="08272-112">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="08272-112">For example:</span></span>

   ```csharp
   // sbOriginal is the existing StringBuilder object
   var sbNew = new StringBuilder(sbOriginal.ToString(), sbOriginal.Length);
   ```
   ```vb
   ' sbOriginal is the existing StringBuilder object
   Dim sbNew = New StringBuilder(sbOriginal.ToString(), sbOriginal.Length)
   ```
- <span data-ttu-id="08272-113">Establecer la capacidad inicial de la <xref:System.Text.StringBuilder> objeto en un valor que es aproximadamente igual a su tamaño máximo esperado mediante una llamada a la <xref:System.Text.StringBuilder.%23ctor(System.Int32)> constructor.</span><span class="sxs-lookup"><span data-stu-id="08272-113">Set the initial capacity of the <xref:System.Text.StringBuilder> object to a value that is approximately equal to its maximum expected size by calling the <xref:System.Text.StringBuilder.%23ctor(System.Int32)> constructor.</span></span> <span data-ttu-id="08272-114">Tenga en cuenta que así asigna el bloque completo de aunque se utilicen memoria el <xref:System.Text.StringBuilder> rara vez alcanza su capacidad máxima.</span><span class="sxs-lookup"><span data-stu-id="08272-114">Note that this allocates the entire block of memory even if the <xref:System.Text.StringBuilder> rarely reaches its maximum capacity.</span></span>
